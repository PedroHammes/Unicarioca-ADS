// 1. Elaborar o Modelo Integrado
[
    {
        "_id": ObjectId("650a6b1a56e2e63a606e29a1"),
        "medico": "Dr. A",
        "especialidade": "Psicólogo",
        "consultas": [
            {
                "paciente": "Alice",
                "data": "01-04-2024"
            },
            {
                "paciente": "Joe",
                "data": "02-04-2024"
            }
        ]
    },
    {
        "_id": ObjectId("650a6b1a56e2e63a606e29a2"),
        "medico": "Dra. B",
        "especialidade": "Nutricionista",
        "consultas": [
            {
                "paciente": "May",
                "data": "01-04-2024"
            },
            {
                "paciente": "Edu",
                "data": "02-04-2024"
            }
        ]
    },
    {
        "_id": ObjectId("650a6b1a56e2e63a606e29a3"),
        "medico": "Dra. C",
        "especialidade": "Ortopedista",
        "consultas": [
            {
                "paciente": "Alice",
                "data": "02-04-2024"
            },
            {
                "paciente": "Edu",
                "data": "03-04-2024"
            }
        ]
    }
]

// 2. Elaborar o Modelo Normalizado
{
    "medicos": [
        {
            "_id": ObjectId("150a6b1a56e2e63a606e29a1"),
            "medico": "Dr. A",
            "especialidade": "Psicólogo",
            "consultas":[
                ObjectId("c50a6b1a56e2e63a606e29a1"),
                ObjectId("c50a6b1a56e2e63a606e29a2")
            ]
        },
        {
            "_id": ObjectId("150a6b1a56e2e63a606e29a2"),
            "medico": "Dra. B",
            "especialidade": "Nutricionista",
            "consultas":[
                ObjectId("c50a6b1a56e2e63a606e29a3"),
                ObjectId("c50a6b1a56e2e63a606e29a4")
            ]
        },
        {
            "_id": ObjectId("150a6b1a56e2e63a606e29a3"),
            "medico": "Dra. C",
            "especialidade": "Ortopedista",
            "consultas":[
                ObjectId("c50a6b1a56e2e63a606e29a3"),
                ObjectId("c50a6b1a56e2e63a606e29a2")
            ]
        }
    ],

    "consultas": [
        {
            "_id": ObjectId("c50a6b1a56e2e63a606e29a1"),
            "paciente": "Ana",
            "data": "01-04-2024"
        },
        {
            "_id": ObjectId("c50a6b1a56e2e63a606e29a2"),
            "paciente": "Joe",
            "data": "02-04-2024"
        },
        {
            "_id": ObjectId("c50a6b1a56e2e63a606e29a3"),
            "paciente": "May",
            "data": "01-04-2024"
        },
        {
            "_id": ObjectId("c50a6b1a56e2e63a606e29a4"),
            "paciente": "Edu",
            "data": "02-04-2024"
        }
    ]
}

// 3. Realizar Consultas 
// ▪ Buscar todas as consultas do paciente "Alice" (para os dois modelos) 
// (Responda na forma captura legível da tela (printscreen) do Mongo 
// Playground). 

    //Modelo Integrado
    db.collection.find(
        {"consultas.paciente": "Alice"},
        {"nome": 1, "consultas": { $elemMatch: {"paciente": "Alice"}}}
    )
    // O que faz:
    // Filtro ($elemMatch): Filtra os documentos onde existe pelo menos uma consulta com o paciente "Alice".
    // Projeção ({ "nome": 1, "consultas.$": 1 }): Retorna apenas:
    // O campo nome do médico.
    // O array consultas, mas limitado à consulta específica que corresponde ao filtro (ou seja, a consulta com o paciente "Alice") graças ao operador $.
    // Retorna apenas as consultas que correspondem ao filtro (paciente "Alice"), além do nome do médico. Essa query usa o operador $ para projetar apenas a consulta correspondente, não o array completo.


    //Modelo Normalizado


// ▪ Buscar consultas associadas ao médico "<seunome>" (Modelo Integrado) 
// (Responda na forma captura legível da tela (printscreen) do Mongo 
// Playground). 
    db.collection.find(
        { "medico": "Dr. Pedro Hammes" }
    )

// ▪ Buscar consultas associadas ao médico "<seunome>" (Modelo Normalizado) 
// (Responda na forma captura legível da tela (printscreen) do Mongo 
// Playground).

//  4. Realizar Atualizações 
//  ▪ Atualizar a data da consulta de "Alice" para "15-10-2024" (para os dois modelos) 
//      (Responda na forma captura legível da tela (printscreen) do Mongo Playground). 

//  ▪ Atualizar a especialidade do "<seunome>" para "Cardiologista" (Modelo Integrado) 
//      (Responda na forma captura legível da tela (printscreen) do Mongo Playground).

//  ▪ Atualizar a especialidade do "<seunome>" para "Cardiologista" (Modelo Normalizado) 
//      (Responda na forma captura legível da tela (printscreen) do Mongo Playground).